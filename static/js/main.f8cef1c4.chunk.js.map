{"version":3,"sources":["components/FacilityRetrieve.js","components/Enforcement.js","components/ViolList.js","components/FacilityDisplay.js","App.js","serviceWorker.js","index.js"],"names":["requestPromise","require","months","FacilityRetrieve","props","currDate","Date","react_default","a","createElement","Form","onSubmit","event","retrieveInfo","style","width","Row","Label","Control","name","type","value","facList","onChange","handleUserInput","as","month","map","index","key","year","getFullYear","justifyContent","submitted","Button","size","disabled","getFacilities","facListIn","date","facArr","replace","split","Promise","all","facNum","getIndData","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","tries","retry","requestURL","queryDataJSON","queryData","wrap","_context","prev","next","concat","uri","sent","JSON","parse","length","abrupt","PWSID","failed","t0","console","log","stop","_x","_x2","_x3","apply","this","arguments","Enforcement","_React$Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleClick","dataReturn","epaData","state","checking","getEnfData","pwsId","enfId","setState","inherits","createClass","_this2","enfData","backgroundColor","colSpan","ORIGINATOR_CODE","ENFORCEMENT_DATE","enfActions","ENFORCEMENT_ACTION_TYPE_CODE","ENFORCEMENT_COMMENT_TEXT","onClick","className","React","Component","SF%","SF&","SF2","SF3","SF4","SF5","SF9","SFG","SFH","SFJ","SFK","SFL","SFM","SFN","SFO","SFP","SFQ","SFR","SFS","SFT","SFU","SFV","SFW","SIA","SIB","SIC","SID","SIE","SIF","SII","SO+","SO0","SO6","SO7","SO8","SOX","SOY","SOZ","EF-","EF!","EF%","EF&","EF/","EF<","EF=","EF2","EF9","EFG","EFH","EFJ","EFK","EFL","EFN","EFQ","EFR","EFS","EFT","EFU","EFV","EFW","EIA","EIB","EIC","EID","EIE","EIF","EII","EO+","EO0","EO6","EO7","EO8","EOX","EOY","EOZ","ESX","ETX","_ref2","_callee2","_context2","setTimeout","ViolList","violCodes","01","02","03","3A","04","05","06","07","08","09","10","11","12","13","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","51","52","53","56","57","58","59","63","64","65","66","71","72","73","75","76","facData","PWS_NAME","ADDRESS_LINE1","CITY_NAME","STATE_CODE","ZIP_CODE","facilityType","violation","VIOLATION_ID","IS_MAJOR_VIOL_IND","VIOLATION_CATEGORY_CODE","PRIMACY_AGENCY_CODE","VIOLATION_CODE","FacilityDisplay","facilityInfo","isNullOrUndefined","undefined","FacilityDisplay_IndFacDisp","failedFacilities","IndFacDisp","PWS_TYPE_CODE","FacilityDisplay_FailedFacility","VIOLATION","FacilityDisplay_NoViol","ViolList_ViolList","Enforcement_Enforcement","LATEST_ENFORCEMENT_ID","VIOLATION_ROW","FailedFacility","NoViol","App","target","defineProperty","preventDefault","receivedInfo","App_Reset","Table","bordered","striped","App_TableHeader","FacilityDisplay_FacilityDisplay","FacilityRetrieve_FacilityRetrieve","beginDate","TableHeader","Reset","textAlign","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qeAEMA,EAAiBC,EAAQ,KACzBC,EAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAEhFC,EAAmB,SAACC,GAC/B,IAAMC,EAAW,IAAIC,KACrB,OACAC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,SAAU,SAAAC,GAAK,OAAIR,EAAMS,aAAaD,IAAQE,MAAO,CAAEC,MAAO,QAClER,EAAAC,EAAAC,cAACC,EAAA,EAAKM,IAAN,KACET,EAAAC,EAAAC,cAACC,EAAA,EAAKO,MAAN,mDAIFV,EAAAC,EAAAC,cAACC,EAAA,EAAKM,IAAN,KACET,EAAAC,EAAAC,cAACC,EAAA,EAAKQ,QAAN,CACEC,KAAK,UACLC,KAAK,OACLC,MAAOjB,EAAMkB,QACbC,SAAU,SAAAX,GAAK,OAAIR,EAAMoB,gBAAgBZ,IACzCE,MAAO,CAAEC,MAAO,WAGpBR,EAAAC,EAAAC,cAACC,EAAA,EAAKM,IAAN,KACET,EAAAC,EAAAC,cAACC,EAAA,EAAKO,MAAN,gDAIFV,EAAAC,EAAAC,cAACC,EAAA,EAAKM,IAAN,KACET,EAAAC,EAAAC,cAACC,EAAA,EAAKQ,QAAN,CACEC,KAAK,QACLM,GAAG,SACHJ,MAAOjB,EAAMsB,MACbH,SAAU,SAAAX,GAAK,OAAIR,EAAMoB,gBAAgBZ,IACzCE,MAAO,CAAEC,MAAO,QAEfb,EAAOyB,IAAI,SAACD,EAAOE,GAAW,OAAQrB,EAAAC,EAAAC,cAAA,UAAQoB,IAAKD,GAAQF,MAE9DnB,EAAAC,EAAAC,cAACC,EAAA,EAAKQ,QAAN,CACEC,KAAK,OACLM,GAAG,SACHJ,MAAOjB,EAAM0B,KACbP,SAAU,SAAAX,GAAK,OAAIR,EAAMoB,gBAAgBZ,IACzCE,MAAO,CAAEC,MAAO,QAEhBR,EAAAC,EAAAC,cAAA,cAASJ,EAAS0B,eAClBxB,EAAAC,EAAAC,cAAA,cAASJ,EAAS0B,cAAc,GAChCxB,EAAAC,EAAAC,cAAA,cAASJ,EAAS0B,cAAc,GAChCxB,EAAAC,EAAAC,cAAA,cAASJ,EAAS0B,cAAc,GAChCxB,EAAAC,EAAAC,cAAA,cAASJ,EAAS0B,cAAc,KAGpCxB,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAKF,MAAO,CAAEkB,eAAkB,WAC5B5B,EAAM6B,UAA8D1B,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAQd,KAAK,SAASe,KAAK,KAAKC,UAAQ,GAAxC,WAAlD7B,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAQd,KAAK,SAASe,KAAK,MAA3B,aAMbE,EAAgB,SAACC,EAAWC,GAEvC,IACMC,EADUF,EAAUG,QAAQ,MAAO,IAClBC,MAAM,KAO7B,OAHgBC,QAAQC,IAAIJ,EAAOb,IAAI,SAACkB,GACtC,OAAOC,EAAWD,EAAQN,EAAM,OAO9BO,EAAU,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAA1C,EAAA2C,KAAG,SAAAC,EAAOP,EAAQN,EAAMc,GAArB,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAA1C,EAAAkD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXP,EAAQ,EADGK,EAAAC,KAAA,EAKTL,EALS,gEAAAO,OAKoEjB,EALpE,sCAAAiB,OAK+GvB,EAL/G,SAAAoB,EAAAE,KAAA,EAOa7D,EAAe,CAAE+D,IAAKR,IAPnC,UAOTC,EAPSG,EAAAK,KASQ,KADjBP,EAAYQ,KAAKC,MAAMV,IACfW,OATC,CAAAR,EAAAE,KAAA,gBAAAF,EAAAS,OAAA,SAUN,CAAC,CAACC,MAAOxB,EAAQyB,QAAQ,KAVnB,eAAAX,EAAAS,OAAA,SAWAX,GAXA,QAAAE,EAAAE,KAAA,oBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,WAcXN,EAAQC,GAdG,CAAAK,EAAAE,KAAA,gBAAAF,EAAAS,OAAA,SAeNtB,EAAWD,EAAQN,EAAMc,EAAQ,IAf3B,eAkBbmB,QAAQC,IAAR,cAAAX,OAA0BjB,EAA1B,8BAlBac,EAAAS,OAAA,SAmBN,CAAC,CAACC,MAAOxB,EAAQyB,QAAQ,KAnBnB,yBAAAX,EAAAe,SAAAtB,EAAA,kBAAH,gBAAAuB,EAAAC,EAAAC,GAAA,OAAA9B,EAAA+B,MAAAC,KAAAC,YAAA,UCzEVhF,EAAiBC,EAAQ,KAElBgF,EAAb,SAAAC,GACE,SAAAD,EAAY7E,GAAM,IAAA+E,EAAA,OAAAnC,OAAAoC,EAAA,EAAApC,CAAA+B,KAAAE,IAChBE,EAAAnC,OAAAqC,EAAA,EAAArC,CAAA+B,KAAA/B,OAAAsC,EAAA,EAAAtC,CAAAiC,GAAAM,KAAAR,KAAO3E,KAMToF,YAPkBxC,OAAAC,EAAA,EAAAD,CAAAE,EAAA1C,EAAA2C,KAOL,SAAAC,IAAA,IAAAqC,EAAAC,EAAA,OAAAxC,EAAA1C,EAAAkD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACNsB,EAAKQ,MAAMC,SADL,CAAAjC,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAGgBgC,EAAWV,EAAK/E,MAAM0F,MAAOX,EAAK/E,MAAM2F,OAHxD,OAGHN,EAHG9B,EAAAK,KAIH0B,EAAUD,EAAW,GAE3BN,EAAKa,SAAS,CAACN,YANN,wBAAA/B,EAAAe,SAAAtB,MALX+B,EAAKQ,MAAQ,CACXC,UAAS,GAHKT,EADpB,OAAAnC,OAAAiD,EAAA,EAAAjD,CAAAiC,EAAAC,GAAAlC,OAAAkD,EAAA,EAAAlD,CAAAiC,EAAA,EAAApD,IAAA,SAAAR,MAAA,WAmBW,IAAA8E,EAAApB,KACP,GAAGA,KAAKY,MAAMD,QAAQ,CACpB,IAAMU,EAAUrB,KAAKY,MAAMD,QAC3B,OACEnF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,UAC5B9F,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,KAAZ,eAAuD,MAA1BF,EAAQG,gBAAwB,QAAU,cACvEhG,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,KAAZ,SAAuBF,EAAQI,kBAC/BjG,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,KAAZ,WAAyBG,EAAWL,EAAQM,+BAC5CnG,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,KAAZ,YAA0BF,EAAQO,0BAClCpG,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,WAIhC,OACE9F,EAAAC,EAAAC,cAAA,MAAImG,QAAS,SAAAhG,GAAK,OAAEuF,EAAKX,gBACvBjF,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,UAC5B9F,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,KAAKO,UAAU,OAA3B,qCACAtG,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,eArCtCpB,EAAA,CAAiC6B,IAAMC,WA4CjCN,EAAY,CAACO,MAAM,uBAAwBC,MAAM,2BAA4BC,IAAM,uCAAwCC,IAAM,iBAAkBC,IAAM,gBAAiBC,IAAM,yBAA0BC,IAAM,4BAA6BC,IAAM,sBAAuBC,IAAM,mBAAoBC,IAAM,oBAAqBC,IAAM,cAAeC,IAAM,2BAA4BC,IAAM,yBAA0BC,IAAM,sBAAuBC,IAAM,wBAAyBC,IAAM,gCAAiCC,IAAM,mBAAoBC,IAAM,4BAA6BC,IAAM,qBAAsBC,IAAM,aAAcC,IAAM,qCAAsCC,IAAM,kBAAmBC,IAAM,sBAAuBC,IAAM,6BAA8BC,IAAM,+BAAgCC,IAAM,wBAAyBC,IAAM,2BAA4BC,IAAM,yBAA0BC,IAAM,wBAAyBC,IAAM,uBAAwBC,MAAM,gCAAiCC,IAAM,4BAA6BC,IAAM,yBAA0BC,IAAM,aAAcC,IAAM,QAASC,IAAM,uBAAwBC,IAAM,6BAA8BC,IAAM,8BAA+BC,MAAM,sCAAuCC,MAAM,cAAeC,MAAM,4BAA6BC,MAAM,iCAAkCC,MAAM,8BAA+BC,MAAM,iBAAkBC,MAAM,6BAA8BC,IAAM,mCAAoCC,IAAM,6BAA8BC,IAAM,sBAAuBC,IAAM,mBAAoBC,IAAM,oBAAqBC,IAAM,cAAeC,IAAM,cAAeC,IAAM,sBAAuBC,IAAM,mBAAoBC,IAAM,4BAA6BC,IAAM,qBAAsBC,IAAM,aAAcC,IAAM,qCAAsCC,IAAM,kBAAmBC,IAAM,sBAAuBC,IAAM,6BAA8BC,IAAM,+BAAgCC,IAAM,wBAAyBC,IAAM,2BAA4BC,IAAM,yBAA0BC,IAAM,wBAAyBC,IAAM,uBAAwBC,MAAM,gCAAiCC,IAAM,4BAA6BC,IAAM,yBAA0BC,IAAM,aAAcC,IAAM,QAASC,IAAM,uBAAwBC,IAAM,6BAA8BC,IAAM,0BAA2BC,IAAM,wDAAyDC,IAAM,wDAEr2E/F,EAAU,eAAAgG,EAAA7I,OAAAC,EAAA,EAAAD,CAAAE,EAAA1C,EAAA2C,KAAG,SAAA2I,EAAOhG,EAAOC,EAAO1C,GAArB,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAA1C,EAAAkD,KAAA,SAAAqI,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAlI,MAAA,cACXP,EAAQ,EADGyI,EAAAnI,KAAA,EAKTL,EALS,+EAAAO,OAKmFiC,EALnF,aAAAjC,OAKoGgC,EALpG,SAAAiG,EAAAlI,KAAA,EAOa7D,EAAe,CAAE+D,IAAKR,IAPnC,cAOTC,EAPSuI,EAAA/H,KAQTP,EAAYQ,KAAKC,MAAMV,GARduI,EAAA3H,OAAA,SASRX,GATQ,WAAAsI,EAAAnI,KAAA,GAAAmI,EAAAxH,GAAAwH,EAAA,WAYX1I,EAAQC,GAZG,CAAAyI,EAAAlI,KAAA,gBAAAkI,EAAA3H,OAAA,SAaN4H,WAAWnG,EAAWC,EAAOC,EAAO1C,EAAM,GAAI,MAbxC,eAgBbmB,QAAQC,IAAR,cAAAX,OAA0BiC,EAA1B,8BAhBagG,EAAA3H,OAAA,SAiBN,IAjBM,yBAAA2H,EAAArH,SAAAoH,EAAA,kBAAH,gBAAAnH,EAAAC,EAAAC,GAAA,OAAAgH,EAAA/G,MAAAC,KAAAC,YAAA,GC/CHiH,EAAW,SAAC7L,GACvB,IAAM8L,EAAW,CAACC,KAAK,mBAAoBC,KAAK,cAAeC,KAAK,qBAAsBC,KAAK,qBAAsBC,KAAK,uCAAwCC,KAAK,qBAAsBC,KAAK,sBAAuBC,KAAK,sBAAuBC,KAAK,qCAAsCC,KAAK,gBAAiBC,GAAK,mBAAoBC,GAAK,gBAAiBC,GAAK,2BAA4BC,GAAK,YAAaC,GAAK,sCAAuCC,GAAK,2BAA4BC,GAAK,iBAAkBC,GAAK,mBAAoBC,GAAK,+BAAgCC,GAAK,+BAAgCC,GAAK,8BAA+BC,GAAK,8BAA+BC,GAAK,0BAA2BC,GAAK,mCAAoCC,GAAK,8BAA+BC,GAAK,8BAA+BC,GAAK,oCAAqCC,GAAK,8BAA+BC,GAAK,uCAAwCC,GAAK,qCAAsCC,GAAK,gCAAiCC,GAAK,qCAAsCC,GAAK,0CAA2CC,GAAK,8BAA+BC,GAAK,8BAA+BC,GAAK,0BAA2BC,GAAK,sCAAuCC,GAAK,4BAA6BC,GAAK,sCAAuCC,GAAK,sCAAuCC,GAAK,+BAAgCC,GAAK,qCAAsCC,GAAK,uCAAwCC,GAAK,gCAAiCC,GAAK,wBAAyBC,GAAK,iCAAkCC,GAAK,2BAA4BC,GAAK,qCAAsCC,GAAK,0BAA2BC,GAAK,wBAAyBC,GAAK,sCAAuCC,GAAK,oBAAqBC,GAAK,mCAAoCC,GAAK,kBAAmBC,GAAK,qBAAsBC,GAAK,6BAA8BC,GAAK,yBAA0BC,GAAK,0BAA2BC,GAAK,iCAAkCC,GAAK,oCAE/gE,OAAQvP,EAAAC,EAAAC,cAAA,MAAIoG,UAAU,iBACpBtG,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQ1L,OACnB9D,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQC,UACnBzP,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQE,eACnB1P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQG,WACnB3P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQI,YACnB5P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQK,UACnB7P,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,0CACAF,EAAAC,EAAAC,cAAA,UAAKL,EAAMiQ,gBACX9P,EAAAC,EAAAC,cAAA,2BAAmBL,EAAMkQ,UAAUC,aAAnC,KAAyF,MAAtCnQ,EAAMkQ,UAAUE,kBAA4B,QAAU,QAAzG,KAAoHpQ,EAAMkQ,UAAUG,yBACpIlQ,EAAAC,EAAAC,cAAA,UAAKL,EAAMkQ,UAAUI,qBACrBnQ,EAAAC,EAAAC,cAAA,UAAKyL,EAAU9L,EAAMkQ,UAAUK,gBAAkBzE,EAAU9L,EAAMkQ,UAAUK,gBAAtE,mBAAA7M,OAA2G1D,EAAMkQ,UAAUK,mBCZvHC,EAAkB,SAACxQ,GAE9B,OADAoE,QAAQC,IAAIrE,EAAMyQ,cACbC,4BAAkB1Q,EAAMyQ,cAYpB,KAXCzQ,EAAMyQ,aAAalP,IAAI,SAACoO,EAASnO,GACvC,YAAcmP,IAAVhB,EAEAxP,EAAAC,EAAAC,cAACuQ,EAAD,CACAnP,IAAKD,EACLmO,QAASA,EAAQ,GACjBkB,iBAAkB7Q,EAAM6Q,mBACb,QAQfC,EAAa,SAAC9Q,GAClB,IAAMiQ,EAAe,WACnB,MAAoC,UAAhCjQ,EAAM2P,QAAQoB,cACT,uCAEgC,WAAhC/Q,EAAM2P,QAAQoB,cACd,2CAEgC,QAAhC/Q,EAAM2P,QAAQoB,cACd,yBAGA,WAIX,IAA2B,IAAvB/Q,EAAM2P,QAAQzL,OAChB,OAAO/D,EAAAC,EAAAC,cAAC2Q,EAAD,CAAgBrB,QAAS3P,EAAM2P,UAClC,QAA8BgB,IAA1B3Q,EAAM2P,QAAQsB,WAAmD,OAA1BjR,EAAM2P,QAAQsB,UAC7D,OAAO9Q,EAAAC,EAAAC,cAAC6Q,EAAD,CAAQvB,QAAS3P,EAAM2P,QAASM,aAAcA,IAChD,GAAIjQ,EAAM2P,QAAQsB,UAAUlN,OAAS,EAC1C,OAAQ/D,EAAM2P,QAAQsB,UAAU1P,IAAI,SAAC2O,EAAW1O,GAC9C,OAAQrB,EAAAC,EAAAC,cAAA,SAAOoB,IAAKD,GAClBrB,EAAAC,EAAAC,cAAC8Q,EAAD,CAAUxB,QAAS3P,EAAM2P,QAASO,UAAWA,EAAWD,aAAcA,IACtE9P,EAAAC,EAAAC,cAAC+Q,EAAD,CAAazL,MAAOuK,EAAUmB,sBAAuB3L,MAAO1F,EAAM2P,QAAQ1L,WAI9E,IAAMiM,EAAYlQ,EAAM2P,QAAQsB,UAAUK,cAC1C,OAAQnR,EAAAC,EAAAC,cAAA,SAAOoB,IAAK,GAClBtB,EAAAC,EAAAC,cAAC8Q,EAAD,CAAUxB,QAAS3P,EAAM2P,QAASO,UAAWA,EAAWD,aAAcA,IACtE9P,EAAAC,EAAAC,cAAC+Q,EAAD,CAAazL,MAAOuK,EAAUmB,sBAAuB3L,MAAO1F,EAAM2P,QAAQ1L,UAK1EsN,EAAiB,SAACvR,GACtB,OACEG,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQ1L,OACnB9D,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,MAAZ,4BAEF/F,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,UAC5B9F,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,MAAZ,sBACA/F,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,aAM9BuL,EAAS,SAACxR,GACd,OACEG,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQ1L,OACnB9D,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQC,UACnBzP,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQE,eACnB1P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQG,WACnB3P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQI,YACnB5P,EAAAC,EAAAC,cAAA,UAAKL,EAAM2P,QAAQK,UACnB7P,EAAAC,EAAAC,cAAA,eACAF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,UAAKL,EAAMiQ,gBACX9P,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,iBAEFF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,UAC5B9F,EAAAC,EAAAC,cAAA,MAAI6F,QAAQ,MAAZ,sBACA/F,EAAAC,EAAAC,cAAA,MAAIK,MAAO,CAACuF,gBAAgB,aCzF9BwL,cACJ,SAAAA,EAAazR,GAAO,IAAA+E,EAAA,OAAAnC,OAAAoC,EAAA,EAAApC,CAAA+B,KAAA8M,IAClB1M,EAAAnC,OAAAqC,EAAA,EAAArC,CAAA+B,KAAA/B,OAAAsC,EAAA,EAAAtC,CAAA6O,GAAAtM,KAAAR,KAAM3E,KAURoB,gBAAkB,SAACZ,GACjB,IAAMkR,EAASlR,EAAMkR,OACf3Q,EAAO2Q,EAAO3Q,KACdE,EAAQyQ,EAAOzQ,MAErB8D,EAAKa,SAALhD,OAAA+O,EAAA,EAAA/O,CAAA,GACG7B,EAAOE,KAjBQ8D,EAqBpBtE,aArBoB,eAAAkC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAA1C,EAAA2C,KAqBL,SAAAC,EAAOxC,GAAP,IAAA2B,EAAAsO,EAAA,OAAA3N,EAAA1C,EAAAkD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACbsB,EAAKa,SAAS,CAAC/D,WAAU,IACzBrB,EAAMoR,iBACAzP,EAHO,MAAAuB,OAGMqB,EAAKQ,MAAMjE,MAHjB,KAAAoC,OAG0BqB,EAAKQ,MAAM7D,MAHrC6B,EAAAE,KAAA,EAIcxB,EAAc8C,EAAKQ,MAAMrE,QAASiB,GAJhD,OAIPsO,EAJOlN,EAAAK,KAKbmB,EAAKa,SAAS,CAAC6K,eAAcoB,cAAa,EAAMhQ,WAAU,IAL7C,wBAAA0B,EAAAe,SAAAtB,MArBK,gBAAAuB,GAAA,OAAA5B,EAAA+B,MAAAC,KAAAC,YAAA,GAElBG,EAAKQ,MAAM,CACT1D,WAAW,EACXgQ,cAAc,EACd3Q,QAAS,GACTI,MAAO,MACPI,MAAM,IAAIxB,MAAOyB,eAPDoD,wEA8BlB,OAAIJ,KAAKY,MAAMsM,aAEX1R,EAAAC,EAAAC,cAAA,OAAKoG,UAAU,OACbtG,EAAAC,EAAAC,cAAA,UAAQoG,UAAU,cAChBtG,EAAAC,EAAAC,cAAA,8CACAF,EAAAC,EAAAC,cAACyR,EAAD,OAEF3R,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAC0R,EAAA,EAAD,CAAOC,UAAQ,EAACC,SAAO,EAAClQ,KAAK,MAC3B5B,EAAAC,EAAAC,cAAC6R,EAAD,MACA/R,EAAAC,EAAAC,cAAC8R,EAAD,CACE1B,aAAc9L,KAAKY,MAAMkL,aACzBI,iBAAkBlM,KAAKkM,sBAQ/B1Q,EAAAC,EAAAC,cAAA,OAAKoG,UAAU,OACbtG,EAAAC,EAAAC,cAAA,UAAQoG,UAAU,cAChBtG,EAAAC,EAAAC,cAAA,8CACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC+R,EAAD,CACE3R,aAAckE,KAAKlE,aACnBoB,UAAW8C,KAAKY,MAAM1D,UACtBT,gBAAiBuD,KAAKvD,gBACtBF,QAASyD,KAAKY,MAAMrE,QACpBmR,UAAW1N,KAAKY,MAAM8M,qBA5DlB3L,IAAMC,WAqElB2L,EAAc,WAClB,OACEnS,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,+BAMFkS,EAAQ,WACZ,OACEpS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMI,MAAO,CAAC8R,UAAU,WACtBrS,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAQd,KAAK,SAASe,KAAK,MAA3B,WAKS0P,IC9FKgB,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO5S,EAAAC,EAAAC,cAAC2S,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.f8cef1c4.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Form, Row, Button } from 'react-bootstrap';\r\nconst requestPromise = require('request-promise');\r\nconst months = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\r\n\r\nexport const FacilityRetrieve = (props) => {\r\n  const currDate = new Date();\r\n  return (\r\n  <Form onSubmit={event => props.retrieveInfo(event)} style={{ width: \"90%\" }}>\r\n    <Form.Row>\r\n      <Form.Label>\r\n        Enter Comma Separated List of Facilities:\r\n        </Form.Label>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Control \r\n        name=\"facList\" \r\n        type=\"text\" \r\n        value={props.facList} \r\n        onChange={event => props.handleUserInput(event)} \r\n        style={{ width: \"100%\" }} \r\n      />\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Label>\r\n        How far back would you like to search?\r\n      </Form.Label>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Control \r\n        name=\"month\" \r\n        as=\"select\" \r\n        value={props.month} \r\n        onChange={event => props.handleUserInput(event)} \r\n        style={{ width: \"25%\" }} \r\n      >\r\n        {months.map((month, index) => {return (<option key={index}>{month}</option>)})}\r\n      </Form.Control>\r\n      <Form.Control \r\n        name=\"year\" \r\n        as=\"select\" \r\n        value={props.year} \r\n        onChange={event => props.handleUserInput(event)} \r\n        style={{ width: \"25%\" }} \r\n      >\r\n        <option>{currDate.getFullYear()}</option>\r\n        <option>{currDate.getFullYear()-1}</option>\r\n        <option>{currDate.getFullYear()-2}</option>\r\n        <option>{currDate.getFullYear()-3}</option>\r\n        <option>{currDate.getFullYear()-4}</option>\r\n      </Form.Control>\r\n    </Form.Row>\r\n    <Row style={{ \"justifyContent\": \"center\" }}>\r\n      {!props.submitted ? <Button type=\"submit\" size=\"sm\">Submit</Button> : <Button type=\"submit\" size=\"sm\" disabled>Waiting</Button>}\r\n    </Row>\r\n  </Form>\r\n  );\r\n};\r\n\r\nexport const getFacilities = (facListIn, date) => {\r\n  //1. Remove all spaces and create array of facilities\r\n  const facList = facListIn.replace(/\\s/g, '');\r\n  const facArr = facList.split(',');\r\n  //2. Call function to retrieve facility data\r\n  //2a. Each facility will return its own promise\r\n  //2a. Will need to use Promise.all to make sure all promises are resolved\r\n  const tempArr = Promise.all(facArr.map((facNum) => {\r\n    return getIndData(facNum, date, 1);\r\n  }));\r\n  return tempArr;\r\n  //3. Convert each individual facilities data to an array\r\n  //4. Return array of facility objects\r\n};\r\n\r\nconst getIndData = async (facNum, date, tries) => {\r\n  const retry = 4;\r\n  //check to make sure data exists\r\n  try {\r\n    //1. set up the request URL\r\n    const requestURL = `https://iaspub.epa.gov/enviro/efservice/WATER_SYSTEM/PWSID/=/${facNum}/VIOLATION/COMPL_PER_BEGIN_DATE/>/${date}/JSON`;\r\n    //3. call database\r\n    const queryDataJSON = await requestPromise({ uri: requestURL });\r\n    const queryData = JSON.parse(queryDataJSON);\r\n    if (queryData.length===0){\r\n      return [{PWSID: facNum, failed: true}];\r\n    } else {return queryData}\r\n  }\r\n  catch (error) {\r\n    if (tries < retry) {\r\n      return getIndData(facNum, date, tries + 1);\r\n    }\r\n    else {\r\n      console.log(`Attempt on ${facNum}'s data ended in failure.`);\r\n      return [{PWSID: facNum, failed: true}];\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\nconst requestPromise = require('request-promise');\r\n\r\nexport class Enforcement extends React.Component {\r\n  constructor(props){\r\n    super (props)\r\n    this.state = {\r\n      checking:false,\r\n    }\r\n  }\r\n\r\n  handleClick= async ()=>{\r\n    if (!this.state.checking){\r\n      //1. call epa database for enforcement details\r\n      const dataReturn = await getEnfData(this.props.pwsId, this.props.enfId);\r\n      const epaData = dataReturn[0]\r\n      //2. put the return info into the current state\r\n      this.setState({epaData})\r\n      //3. data should be displayed\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(this.state.epaData){\r\n      const enfData = this.state.epaData\r\n      return (\r\n        <tr>\r\n          <td style={{backgroundColor:\"Blue\"}}></td>\r\n          <td colSpan=\"1\">Originator: {enfData.ORIGINATOR_CODE==='S' ? 'State' : 'EPA Region'}</td>\r\n          <td colSpan=\"1\">Date: {enfData.ENFORCEMENT_DATE}</td>\r\n          <td colSpan=\"2\">Action: {enfActions[enfData.ENFORCEMENT_ACTION_TYPE_CODE]}</td>\r\n          <td colSpan=\"6\">Comment: {enfData.ENFORCEMENT_COMMENT_TEXT}</td>\r\n          <td style={{backgroundColor:\"Blue\"}}></td>\r\n        </tr>\r\n      )\r\n    } else {\r\n      return (\r\n        <tr onClick={event=>this.handleClick()}>\r\n          <td style={{backgroundColor:\"Blue\"}}></td>\r\n          <td colSpan=\"10\" className=\"enf\">Click to view Enforcement Details</td>\r\n          <td style={{backgroundColor:\"Blue\"}}></td>\r\n        </tr>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst enfActions ={\"SF%\":\"Civil Case concluded\", \"SF&\":\"Crim Case referred to AG\", \"SF2\":\"Referred for Higher St Level Review \", \"SF3\":\"Case appealed \", \"SF4\":\"Case dropped \", \"SF5\":\"Hook-up/Extension Ban \", \"SF9\":\"Civil Case referred to AG\", \"SFG\":\"Public Notif issued\", \"SFH\":\"Boil Water Order\", \"SFJ\":\"Formal NOV issued\", \"SFK\":\"BCA signed \", \"SFL\":\"AO (w/o penalty) issued \", \"SFM\":\"Admin Penalty assessed\", \"SFN\":\"Show-cause Hearing \", \"SFO\":\"AO (w/penalty) issued\", \"SFP\":\"Civil Case under development \", \"SFQ\":\"Civil Case filed\", \"SFR\":\"Consent Decree/Judgement \", \"SFS\":\"Default Judgement \", \"SFT\":\"Injunction\", \"SFU\":\"Temp Restrain Order/Prelim Injunc \", \"SFV\":\"Crim Case filed\", \"SFW\":\"Crim Case concluded\", \"SIA\":\"Violation/ Reminder Notice\", \"SIB\":\"Compliance Meeting conducted\", \"SIC\":\"Tech Assistance Visit\", \"SID\":\"Site Visit (enforcement)\", \"SIE\":\"Public Notif requested\", \"SIF\":\"Public Notif received\", \"SII\":\"CCR Follow-up Notice\", \"SO+\":\"No addtl Formal Action needed\", \"SO0\":\"No Longer Subject to Rule\", \"SO6\":\"Intentional no-action \", \"SO7\":\"Unresolved\", \"SO8\":\"Other\", \"SOX\":\"Compliance achieved \", \"SOY\":\"Variance/ Exemption issued\", \"SOZ\":\"St Turbidity Waiver issued \", \"EF-\":\"CFP Consent Order/Decree w/penalty \", \"EF!\":\"PAO issued \", \"EF%\":\"Fed Civil Case concluded \", \"EF&\":\"Fed Crim Case referred to DOJ \", \"EF/\":\"Fed 1431 (Emergency) Order \", \"EF<\":\"Fed CFP issued\", \"EF=\":\"Fed CFP Default Judgement \", \"EF2\":\"Referred for Higher Level Review\", \"EF9\":\"Civil Case referred to DOJ\", \"EFG\":\"Public Notif issued\", \"EFH\":\"Boil Water Order\", \"EFJ\":\"Formal NOV issued\", \"EFK\":\"BCA signed \", \"EFL\":\"FAO issued \", \"EFN\":\"Show-cause Hearing \", \"EFQ\":\"Civil Case filed\", \"EFR\":\"Consent Decree/ Judgement\", \"EFS\":\"Default Judgement \", \"EFT\":\"Injunction\", \"EFU\":\"Temp Restrain Order/Prelim Injunc \", \"EFV\":\"Crim Case filed\", \"EFW\":\"Crim Case concluded\", \"EIA\":\"Violation/ Reminder Notice\", \"EIB\":\"Compliance Meeting conducted\", \"EIC\":\"Tech Assistance Visit\", \"EID\":\"Site Visit (enforcement)\", \"EIE\":\"Public Notif requested\", \"EIF\":\"Public Notif received\", \"EII\":\"CCR Follow-up Notice\", \"EO+\":\"No addtl Formal Action needed\", \"EO0\":\"No Longer Subject to Rule\", \"EO6\":\"Intentional no-action \", \"EO7\":\"Unresolved\", \"EO8\":\"Other\", \"EOX\":\"Compliance achieved \", \"EOY\":\"Variance/ Exemption issued\", \"EOZ\":\"Turbidity Waiver issued\", \"ESX\":\"Implicit SWTR RTC (Cannot be reported, EPA-generated)\", \"ETX\":\"Implicit TCR RTC (Cannot be reported, EPA-generated)\", }\r\n\r\nconst getEnfData = async (pwsId, enfId, tries) => {\r\n  const retry = 2;\r\n  //check to make sure data exists\r\n  try {\r\n    //1. set up the request URL\r\n    const requestURL = `https://iaspub.epa.gov/enviro/efservice/ENFORCEMENT_ACTION/ENFORCEMENT_ID/=/${enfId}/PWSID/=/${pwsId}/JSON`;\r\n    //3. call database\r\n    const queryDataJSON = await requestPromise({ uri: requestURL });\r\n    const queryData = JSON.parse(queryDataJSON);\r\n    return queryData;\r\n  }\r\n  catch (error) {\r\n    if (tries < retry) {\r\n      return setTimeout(getEnfData(pwsId, enfId, tries+1), 2000);\r\n    }\r\n    else {\r\n      console.log(`Attempt on ${enfId}'s data ended in failure.`);\r\n      return [];\r\n    }\r\n  }\r\n};","import React from 'react';\r\n\r\nexport const ViolList = (props) => {\r\n  const violCodes ={\"01\":\"MCL,SingleSample\", \"02\":\"MCL,Average\", \"03\":\"Monitoring,Regular\", \"3A\":\"Monitoring,Regular\", \"04\":\"Monitoring,Check/Repeat/Confirmation\", \"05\":\"Notification,State\", \"06\":\"Notification,Public\", \"07\":\"TreatmentTechniques\", \"08\":\"Variance/Exemption/OtherCompliance\", \"09\":\"RecordKeeping\", \"10\":\"OperationsReport\", \"11\":\"Non-AcuteMRDL\", \"12\":\"QualifiedOperatorFailure\", \"13\":\"AcuteMRDL\", \"19\":\"Monitoring,GWRAssessmentSourceWater\", \"20\":\"FailuretoConsult/Respond\", \"21\":\"MCL,Acute(TCR)\", \"22\":\"MCL,Monthly(TCR)\", \"23\":\"Monitoring,RoutineMajor(TCR)\", \"24\":\"Monitoring,RoutineMinor(TCR)\", \"25\":\"Monitoring,RepeatMajor(TCR)\", \"26\":\"Monitoring,RepeatMinor(TCR)\", \"27\":\"Monitoring,Routine(DBP)\", \"28\":\"SanitarySurveyCooperationFailure\", \"29\":\"M&RFilterProfile/CPEFailure\", \"30\":\"Monitoring/SubmitPlan(IDSE)\", \"31\":\"MonitoringofTreatment(Unfilt/GWR)\", \"32\":\"Monitoring,SourceWater(LT2)\", \"33\":\"FailureSubmitTreatmentRequirementRpt\", \"34\":\"Monitoring,GWRTriggered/Additional\", \"35\":\"FailureSubmitStage2DBPRReport\", \"36\":\"MonitoringofTreatment(SWTR-Filter)\", \"37\":\"TreatmentTechnique,NoPriorStateApproval\", \"38\":\"M&RFilterTurbidityReporting\", \"39\":\"MonitoringandReporting(FBR)\", \"40\":\"TreatmentTechnique(FBR)\", \"41\":\"FailuretoMaintainMicrobialTreatment\", \"42\":\"FailuretoProvideTreatment\", \"43\":\"SingleTurbidityExceed(EnhancedSWTR)\", \"44\":\"TreatmentTechniqueExceedsTurb0.3NTU\", \"45\":\"FailuretoAddressDeficiencies\", \"46\":\"TreatmentTechniquePrecursorRemoval\", \"47\":\"TreatmentTechniqueUncoveredReservoir\", \"48\":\"FailuretoAddressContamination\", \"51\":\"InitialLCRTapSampling\", \"52\":\"Follow-upandRoutineTapSampling\", \"53\":\"WaterQualityParameterM&R\", \"56\":\"Initial,Follow-up,orRoutineSOWTM&R\", \"57\":\"OCCT/SOWTRecommendation\", \"58\":\"OCCT/SOWTInstallation\", \"59\":\"WaterQualityParameterNon-Compliance\", \"63\":\"MPLNon-Compliance\", \"64\":\"LeadServiceLineReplacement(LSLR)\", \"65\":\"PublicEducation\", \"66\":\"LeadConsumerNotice\", \"71\":\"CCRCompleteFailuretoReport\", \"72\":\"CCRInadequateReporting\", \"73\":\"FailuretoNotifyOtherPWS\", \"75\":\"PNViolationforanNPDWRViolation\", \"76\":\"PNViolationwithoutNPDWRViolation\", }\r\n\r\n  return (<tr className=\"violationInfo\">\r\n    <td>{props.facData.PWSID}</td>\r\n    <td>{props.facData.PWS_NAME}</td>\r\n    <td>{props.facData.ADDRESS_LINE1}</td>\r\n    <td>{props.facData.CITY_NAME}</td>\r\n    <td>{props.facData.STATE_CODE}</td>\r\n    <td>{props.facData.ZIP_CODE}</td>\r\n    <td>Yes</td>\r\n    <td>WQ. Water Quality Management</td>\r\n    <td>{props.facilityType()}</td>\r\n    <td>Violation No. {props.violation.VIOLATION_ID}, {props.violation.IS_MAJOR_VIOL_IND === 'Y' ? 'Major' : 'Minor'}, {props.violation.VIOLATION_CATEGORY_CODE}</td>\r\n    <td>{props.violation.PRIMACY_AGENCY_CODE}</td>\r\n    <td>{violCodes[props.violation.VIOLATION_CODE] ? violCodes[props.violation.VIOLATION_CODE] : `Violation Code: ${props.violation.VIOLATION_CODE}`}</td>\r\n  </tr>);\r\n};\r\n","import React from 'react';\r\nimport { isNullOrUndefined } from 'util';\r\nimport { Enforcement } from \"./Enforcement\";\r\nimport { ViolList } from \"./ViolList\";\r\n\r\nexport const FacilityDisplay = (props) => {\r\n  console.log(props.facilityInfo)\r\n  if (!isNullOrUndefined(props.facilityInfo)) {\r\n    return (props.facilityInfo.map((facData, index) => {\r\n      if (facData!==undefined){\r\n        return (\r\n          <IndFacDisp \r\n          key={index} \r\n          facData={facData[0]} \r\n          failedFacilities={props.failedFacilities}/>);\r\n      } else {return null}\r\n    }));\r\n  }\r\n  else {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst IndFacDisp = (props) => {\r\n  const facilityType = () => {\r\n    if (props.facData.PWS_TYPE_CODE === 'TNCWS') {\r\n      return 'Transient Non-Community Water System';\r\n    }\r\n    else if (props.facData.PWS_TYPE_CODE === 'NTNCWS') {\r\n      return 'Non-Transient Non-Community Water System';\r\n    }\r\n    else if (props.facData.PWS_TYPE_CODE === 'CWS') {\r\n      return 'Community Water System';\r\n    }\r\n    else {\r\n      return 'Unknown';\r\n    }\r\n  };\r\n  \r\n  if (props.facData.failed===true){\r\n    return <FailedFacility facData={props.facData} />\r\n  }else if (props.facData.VIOLATION===undefined || props.facData.VIOLATION===null){\r\n    return <NoViol facData={props.facData} facilityType={facilityType}/>\r\n  } else if (props.facData.VIOLATION.length > 0) {\r\n    return (props.facData.VIOLATION.map((violation, index) => {\r\n      return (<tbody key={index}>\r\n        <ViolList facData={props.facData} violation={violation} facilityType={facilityType} />\r\n        <Enforcement enfId={violation.LATEST_ENFORCEMENT_ID} pwsId={props.facData.PWSID} />\r\n      </tbody>);\r\n    }));\r\n  } else {\r\n    const violation = props.facData.VIOLATION.VIOLATION_ROW;\r\n    return (<tbody key={0}>\r\n      <ViolList facData={props.facData} violation={violation} facilityType={facilityType} />\r\n      <Enforcement enfId={violation.LATEST_ENFORCEMENT_ID} pwsId={props.facData.PWSID} />\r\n    </tbody>);\r\n  }\r\n};\r\n\r\nconst FailedFacility = (props) => {\r\n  return (\r\n    <tbody>\r\n      <tr>\r\n        <td>{props.facData.PWSID}</td>\r\n        <td colSpan=\"11\">Data retrieval failure.</td>\r\n      </tr>\r\n      <tr>\r\n        <td style={{backgroundColor:\"Blue\"}}></td>\r\n        <td colSpan=\"10\">Nothing to display</td>\r\n        <td style={{backgroundColor:\"Blue\"}}></td>\r\n      </tr>\r\n    </tbody>\r\n  )\r\n}\r\n\r\nconst NoViol = (props) => {\r\n  return (\r\n    <tbody>\r\n      <tr>\r\n        <td>{props.facData.PWSID}</td>\r\n        <td>{props.facData.PWS_NAME}</td>\r\n        <td>{props.facData.ADDRESS_LINE1}</td>\r\n        <td>{props.facData.CITY_NAME}</td>\r\n        <td>{props.facData.STATE_CODE}</td>\r\n        <td>{props.facData.ZIP_CODE}</td>\r\n        <td>N</td>\r\n        <td>NA</td>\r\n        <td>{props.facilityType()}</td>\r\n        <td>NA</td>\r\n        <td>NA</td>\r\n        <td>NA</td>\r\n      </tr>\r\n      <tr>\r\n        <td style={{backgroundColor:\"Blue\"}}></td>\r\n        <td colSpan=\"10\">Nothing to display</td>\r\n        <td style={{backgroundColor:\"Blue\"}}></td>\r\n      </tr>\r\n    </tbody>\r\n  )\r\n}","import React from 'react';\nimport { Table, Form, Button } from 'react-bootstrap'\nimport './App.css';\nimport { getFacilities, FacilityRetrieve } from './components/FacilityRetrieve';\nimport { FacilityDisplay } from './components/FacilityDisplay';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state={\n      submitted: false,\n      receivedInfo: false,\n      facList: '',\n      month: 'JAN',\n      year: new Date().getFullYear(),\n    }\n  }\n\n  handleUserInput = (event) => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  retrieveInfo = async (event) => {\n    this.setState({submitted:true})\n    event.preventDefault();\n    const date = `01-${this.state.month}-${this.state.year}`\n    const facilityInfo = await getFacilities(this.state.facList, date);\n    this.setState({facilityInfo, receivedInfo:true, submitted:false});\n  }\n\n  render() {\n    if (this.state.receivedInfo){\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <h1>Jason's EPA Database Aggregator.</h1>\n            <Reset />\n          </header>\n          <main>\n            <Table bordered striped size=\"sm\" >\n              <TableHeader/>\n              <FacilityDisplay \n                facilityInfo={this.state.facilityInfo}\n                failedFacilities={this.failedFacilities}\n              />\n            </Table>\n          </main>\n        </div>\n      );      \n    } else {\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <h1>Jason's EPA Database Aggregator.</h1>\n            <br/>\n            <FacilityRetrieve \n              retrieveInfo={this.retrieveInfo} \n              submitted={this.state.submitted} \n              handleUserInput={this.handleUserInput} \n              facList={this.state.facList}\n              beginDate={this.state.beginDate}\n            />\n          </header>\n        </div>\n      );\n    }\n  }\n}\n\nconst TableHeader = () => {\n  return (\n    <thead>\n      <tr>\n        <td>PWS ID</td>\n        <td>Facility Name</td>\n        <td>Street Address</td>\n        <td>City Address</td>\n        <td>State</td>\n        <td>Zip Code</td>\n        <td>Notice of Violation</td>\n        <td>Regulatory Sector</td>\n        <td>Regulatory Subsector</td>\n        <td>Type of Notice</td>\n        <td>Issuing Agency</td>\n        <td>Violation Type</td>\n      </tr>\n    </thead>\n  )\n}\n\nconst Reset = () => {\n  return(\n    <Form style={{textAlign:\"center\"}}>\n      <h4>View data below.</h4>\n      <h4>Reset to try again.</h4>\n      <Button type=\"submit\" size=\"sm\">Reset</Button>\n    </Form>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}